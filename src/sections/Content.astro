---
import Heading2 from "@/components/Heading2.astro";
import ContentCard from "@/components/ContentCard.astro";
const content = [
  {
    title: "I18n",
    description: "Múltiples idiomas en tu aplicación.",
  },
  {
    title: "Base de datos",
    description: "Interactúa con una base de datos usando Prisma.",
  },
  {
    title: "Auth",
    description:
      "Autenticación de usuarios, rutas protegidas y roles (admin y usuario).",
  },
  {
    title: "Pagos",
    description: "Compra de suscripciones mensuales con distintos planes.",
  },
  {
    title: "Webhooks",
    description:
      "Escucha cada suscripción y ejecuta la lógica de negocio necesaria.",
  },
  {
    title: "Mails",
    description:
      "Envía emails como verificación de usuario o bienvenida tras comprar una suscripción.",
  },
  {
    title: "PDF",
    description: "Genera PDFs para facturas y envíalos por correo.",
  },
  {
    title: "QR Acceso",
    description: "Crea un QR seguro de acceso a un local",
  },
  {
    title: "Websockets",
    description: "Escucha y muestra eventos de acceso en tiempo real.",
  },
];
---

<section
  class="max-w-content-size mx-auto flex flex-col gap-12 mt-20 px-8 pt-28"
>
  <Heading2> Lo que aprenderás:</Heading2>
  <div
    cards-container
    class="flex flex-col overflow-hidden gap-6 max-h-[992px] [mask-image:_linear-gradient(to_top,_transparent_0,_white_128px,white_calc(100%-0px),_transparent_100%)]"
  >
    {
      content.map((item, index) => (
        <ContentCard
          title={`${index + 1}. ${item.title}`}
          description={item.description}
        />
      ))
    }
  </div>
  <button
    load-more
    class="text-black text-lg font-semibold bg-white inline-block mx-auto rounded-lg py-3 px-6"
    >Ver contenido completo 👈</button
  >
</section>

<script>
  document.querySelector("[load-more]")?.addEventListener("click", (e) => {
    const target = e.target as HTMLButtonElement;
    target && target.parentElement?.removeChild(target);
    document
      .querySelector("[cards-container]")
      ?.classList.remove(
        "max-h-[992px]",
        "[mask-image:_linear-gradient(to_top,_transparent_0,_white_128px,white_calc(100%-0px),_transparent_100%)]"
      );
  });
</script>
